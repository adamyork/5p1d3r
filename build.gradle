plugins {
    id "application"
    id "org.openjfx.javafxplugin" version "0.0.8"
    id "org.springframework.boot" version "2.1.8.RELEASE"
    id "io.spring.dependency-management" version "1.0.6.RELEASE"
}

group "com.github.adamyork"
version "1.0"
project.ext.set("buildDate", getDate())

static def getDate() {
    new Date().format('yyyy-MM-dd')
}

repositories {
    mavenCentral()
    jcenter()
}

dependencies {
    compile group: "org.springframework.boot", name: "spring-boot-starter", version: "2.1.8.RELEASE"
    compile group: "org.jsoup", name: "jsoup", version: "1.7.2"
    compile group: "commons-validator", name: "commons-validator", version: "1.4.0"
    compile group: "commons-io", name: "commons-io", version: "2.4"
    compile group: "org.codehaus.groovy", name: "groovy-all", version: "2.4.7"
    compile group: "com.fasterxml.jackson.core", name: "jackson-databind", version: "2.8.7"
    compile group: "com.fasterxml.jackson.dataformat", name: "jackson-dataformat-csv", version: "2.8.7"
    compile group: 'commons-configuration', name: 'commons-configuration', version: '1.10'
    compile group: "org.controlsfx", name: "controlsfx", version: "11.0.2"
    compile group: "org.jooq", name: "jool", version: "0.9.12"
    compile group: 'javax.inject', name: 'javax.inject', version: '1'
    testCompile group: "junit", name: "junit", version: "4.11"
}

processResources {
    filesMatching('application.properties') {
        expand(project.properties)
    }
}

compileJava.dependsOn(processResources)

javafx {
    mainClassName = "com.github.adamyork.fx5p1d3r.Main"
    version = "11"
    modules = ["javafx.controls", "javafx.fxml"]
    //jvmArgs = ["-agentlib:jdwp=transport=dt_socket,address=8004,server=y,suspend=y"]
}

//sourceSets {
//    main {
//        resources {
//            srcDirs = ["src/main/java", "src/main/resources"]
//            includes = ["**/*.fxml", "**/*.css", "**/*.png", "**/*.groovy", "*.properties"]
//        }
//    }
//}